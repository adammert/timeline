@tailwind base;
@tailwind components;
@tailwind utilities;

/* Custom Scrollbar */
@layer utilities {
  .custom-scrollbar::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  .custom-scrollbar::-webkit-scrollbar-track {
    background: transparent;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb {
    @apply bg-zinc-600 rounded;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    @apply bg-zinc-500;
  }
}

/* Syntax Highlighting Tokens */
@layer components {
  .token-keyword {
    @apply text-pink-400 font-medium;
  }

  .token-string {
    @apply text-purple-400;
  }

  .token-date {
    @apply text-emerald-400;
  }

  .token-comment {
    @apply text-gray-500 italic;
  }

  .token-header {
    @apply text-blue-400 font-bold;
  }

  .token-separator {
    @apply text-zinc-500;
  }

  .token-class-value {
    @apply font-medium;
  }

  /* Class value colors */
  .token-class-value.class-critical {
    @apply text-red-400;
  }

  .token-class-value.class-warning {
    @apply text-amber-400;
  }

  .token-class-value.class-success {
    @apply text-green-400;
  }

  .token-class-value.class-meeting {
    @apply text-purple-400;
  }

  .token-class-value.class-work {
    @apply text-blue-400;
  }
}

/* Timeline Line Styles */
@layer components {
  .timeline-line {
    @apply absolute left-6 top-16 bottom-10 w-0.5 bg-gradient-to-b from-primary to-primary z-0;
  }

  .dashed-line {
    @apply absolute left-6 top-6 bottom-0 border-l-2 border-dashed border-gray-400 dark:border-zinc-600 z-0;
  }
}

/* Timeline Item Visibility Animation */
@layer components {
  .timeline-item {
    @apply opacity-0 translate-y-5;
    transition: opacity 0.6s cubic-bezier(0.5, 0, 0.25, 1),
                transform 0.6s cubic-bezier(0.5, 0, 0.25, 1);
  }

  .timeline-item.is-visible {
    @apply opacity-100 translate-y-0;
  }

  @media (prefers-reduced-motion: reduce) {
    .timeline-item {
      @apply opacity-100 translate-y-0;
      transition: none;
    }
  }
}

/* Timeline Title */
@layer components {
  .timeline-title {
    @apply text-3xl font-bold text-center mb-12 text-gray-800 dark:text-primary tracking-tight;
  }
}

/* Today Marker */
@layer components {
  .current-date-marker {
    @apply relative w-full border-t-2 border-red-500 z-10 my-4;
  }

  .current-date-marker-label {
    @apply absolute right-0 -top-6 text-red-500 text-xs font-bold bg-red-100 dark:bg-red-900/30 px-2 py-1 rounded;
  }
}

/* Duration Connector Line */
@layer components {
  .duration-connector {
    @apply absolute left-[23px] top-6 w-0.5 bg-blue-500/30 z-0;
  }
}

/* Info Messages */
@layer components {
  .info-message {
    @apply text-center text-gray-500 dark:text-gray-400 italic py-20;
  }
}

/* Timeline Content - Markdown Rendering */
@layer components {
  .timeline-content p {
    @apply mb-3 leading-relaxed;
  }

  .timeline-content p:last-child {
    @apply mb-0;
  }

  .timeline-content ul,
  .timeline-content ol {
    @apply pl-5 my-2 space-y-1;
  }

  .timeline-content ul {
    @apply list-disc;
  }

  .timeline-content ol {
    @apply list-decimal;
  }

  .timeline-content li {
    @apply pl-1;
  }

  .timeline-content code {
    @apply bg-gray-100 dark:bg-zinc-700 px-1.5 py-0.5 rounded text-sm font-mono;
  }

  .timeline-content pre {
    @apply bg-gray-100 dark:bg-zinc-800 p-3 rounded-lg overflow-x-auto my-3;
  }

  .timeline-content pre code {
    @apply bg-transparent p-0;
  }

  .timeline-content blockquote {
    @apply border-l-4 border-gray-300 dark:border-zinc-600 pl-4 italic text-gray-600 dark:text-gray-400 my-3;
  }
}
